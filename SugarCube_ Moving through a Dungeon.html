<tw-storydata name="SugarCube: Moving through a Dungeon" startnode="7" creator="Twine" creator-version="2.2.1" ifid="9B2386CF-006C-4B6B-B912-A9C8644FF2E7" zoom="1" format="SugarCube" format-version="2.26.0" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">#map {
	font-family: monospace; 
}





































</style><script role="script" id="twine-user-script" type="text/twine-javascript">





































</script><tw-passagedata pid="1" name="StoryInit" tags="" position="99,100" size="100,100">&lt;&lt;set $mapArray to 
[[0,0,0,0,0,0,0,0,0,0,0],
[0,1,1,1,0,1,1,1,1,1,0],
[0,0,0,1,0,0,0,0,0,1,0],
[0,1,0,1,1,1,1,1,0,1,0],
[0,1,0,0,0,0,0,1,0,1,0],
[0,1,1,1,1,1,1,1,0,1,0],
[0,0,0,0,0,0,0,1,0,1,0],
[0,1,0,1,1,1,1,1,1,1,0],
[0,1,0,1,0,0,0,1,0,0,0],
[0,1,1,1,0,1,1,1,1,2,0],
[0,0,0,0,0,0,0,0,0,0,0]]&gt;&gt;

&lt;&lt;set $positionX to 1&gt;&gt;
&lt;&lt;set $positionY to 1&gt;&gt;</tw-passagedata><tw-passagedata pid="2" name="Location" tags="" position="102,223" size="100,100">&lt;span id=&quot;map&quot;&gt;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;for $i to 0; $i lt $mapArray.length; $i++&gt;&gt;
	&lt;&lt;for $k to 0; $k lt $mapArray[$i].length; $k++&gt;&gt;
    	&lt;&lt;if $k eq $positionX and $i eq $positionY&gt;&gt;
        	&lt;&lt;print &quot;P&quot;&gt;&gt; 
        &lt;&lt;elseif $mapArray[$i][$k] eq 1&gt;&gt;
        	&lt;&lt;print &quot;&amp;#46;&quot;&gt;&gt; 
        &lt;&lt;elseif $mapArray[$i][$k] eq 0&gt;&gt;
        	&lt;&lt;print &quot;&amp;#35;&quot;&gt;&gt; 
        &lt;&lt;elseif $mapArray[$i][$k] eq 2&gt;&gt;
        	&lt;&lt;print &quot;E&quot;&gt;&gt; 
        &lt;&lt;/if&gt;&gt;
    &lt;&lt;/for&gt;&gt;
    &lt;&lt;print &quot;&lt;br&gt;&quot;&gt;&gt;
&lt;&lt;/for&gt;&gt;
&lt;&lt;/nobr&gt;&gt;
&lt;/span&gt;</tw-passagedata><tw-passagedata pid="3" name="East" tags="" position="601,201" size="100,100">&lt;&lt;set $positionX += 1&gt;&gt;
&lt;&lt;include &quot;Map System&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="4" name="West" tags="" position="400,200" size="100,100">&lt;&lt;set $positionX -= 1&gt;&gt;
&lt;&lt;include &quot;Map System&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="5" name="South" tags="" position="500,301" size="100,100">&lt;&lt;set $positionY += 1&gt;&gt;
&lt;&lt;include &quot;Map System&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="6" name="North" tags="" position="502,100" size="100,100">&lt;&lt;set $positionY -= 1&gt;&gt;
&lt;&lt;include &quot;Map System&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="7" name="Map System" tags="" position="270,51" size="100,100">&lt;&lt;include &quot;Location&quot;&gt;&gt;
&lt;&lt;nobr&gt;&gt;
&lt;&lt;if $mapArray[$positionY-1][$positionX] eq 1&gt;&gt;
[[North]] | 
&lt;&lt;elseif $mapArray[$positionY-1][$positionX] eq 2&gt;&gt;
[[Exit]] | 
&lt;&lt;/if&gt;&gt;
&lt;&lt;if $mapArray[$positionY][$positionX+1] eq 1&gt;&gt;
[[East]] | 
&lt;&lt;elseif $mapArray[$positionY][$positionX+1] eq 2&gt;&gt;
[[Exit]] | 
&lt;&lt;/if&gt;&gt;
&lt;&lt;if $mapArray[$positionY+1][$positionX] eq 1&gt;&gt;
[[South]] | 
&lt;&lt;elseif $mapArray[$positionY+1][$positionX] eq 2&gt;&gt;
[[Exit]] | 
&lt;&lt;/if&gt;&gt;
&lt;&lt;if $mapArray[$positionY][$positionX-1] eq 1&gt;&gt;
[[West]] | 
&lt;&lt;elseif $mapArray[$positionY][$positionX-1] eq 2&gt;&gt;
[[Exit]] | 
&lt;&lt;/if&gt;&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="8" name="Exit" tags="" position="267,263" size="100,100">Double-click this passage to edit it.</tw-passagedata></tw-storydata>